<button id="activateVoice">Activate Voice Recognition</button>

<script>
    const startButton = document.getElementById('startButton');
    const activateVoice = document.getElementById('activateVoice');
    const music = document.getElementById('backgroundMusic');

    function startMagic() {
        startButton.style.display = 'none';
        activateVoice.style.display = 'none';
        music.play();
        document.querySelector('h1').style.animationDelay = '0s';
        document.querySelector('p').style.animationDelay = '1s';
    }

    if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
        const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
        const recognition = new SpeechRecognition();
        recognition.continuous = true;
        recognition.lang = 'en-US';

        recognition.onresult = (event) => {
            const command = event.results[event.results.length-1][0].transcript.trim().toLowerCase();
            console.log('Heard:', command);
            if (command.includes('i love anthony')) {
                startMagic();
            }
        };

        // Нужно чтобы человек сам активировал микрофон нажатием
        activateVoice.addEventListener('click', () => {
            activateVoice.style.display = 'none';
            recognition.start();
        });
    } else {
        startButton.style.display = 'block';
        startButton.addEventListener('click', startMagic);
    }
</script>
